{"timestamp":"2026-02-24T09:11:22-08:00","surfaceId":"6a41780c-b1a6-4391-a06b-92b79de6bef1","claudeSessionId":"bcbefbe6-12a7-4444-971d-279e5ff7ad85","observedState":"working","expectedState":"waiting_permission","context":"Claude was showing a WebFetch permission prompt (code.visualstudio.com) but the indicator showed working instead of waiting_permission","rootCause":"Subagent PreToolUse events cleared waiting_permission. PermissionRequest fired at 09:11:21.312 and 09:11:22.281 but PreToolUse at 09:11:22.281 and 09:11:23.461 overrode them back to working.","fixed":"Sticky waiting states guard in applyTransition â€” PreToolUse/SubagentStart/PreCompact no longer clear waiting states (2026-02-24)"}
